CREATE DATABASE  IF NOT EXISTS `quizdb` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
USE `quizdb`;
-- MySQL dump 10.13  Distrib 8.0.29, for Win64 (x86_64)
--
-- Host: localhost    Database: quizdb
-- ------------------------------------------------------
-- Server version	8.0.29

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `__efmigrationshistory`
--

DROP TABLE IF EXISTS `__efmigrationshistory`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `__efmigrationshistory` (
  `MigrationId` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `ProductVersion` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  PRIMARY KEY (`MigrationId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `__efmigrationshistory`
--

LOCK TABLES `__efmigrationshistory` WRITE;
/*!40000 ALTER TABLE `__efmigrationshistory` DISABLE KEYS */;
INSERT INTO `__efmigrationshistory` VALUES ('20250529202301_InitialCreate','8.0.1');
/*!40000 ALTER TABLE `__efmigrationshistory` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `answeroptions`
--

DROP TABLE IF EXISTS `answeroptions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `answeroptions` (
  `AnswerOptionId` char(36) CHARACTER SET ascii COLLATE ascii_general_ci NOT NULL,
  `QuestionId` char(36) CHARACTER SET ascii COLLATE ascii_general_ci NOT NULL,
  `AnswerText` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `IsCorrect` tinyint(1) NOT NULL,
  PRIMARY KEY (`AnswerOptionId`),
  KEY `IX_AnswerOptions_QuestionId` (`QuestionId`),
  CONSTRAINT `FK_AnswerOptions_Questions_QuestionId` FOREIGN KEY (`QuestionId`) REFERENCES `questions` (`QuestionId`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `answeroptions`
--

LOCK TABLES `answeroptions` WRITE;
/*!40000 ALTER TABLE `answeroptions` DISABLE KEYS */;
INSERT INTO `answeroptions` VALUES ('40000000-0000-0000-0000-000000000001','30000000-0000-0000-0000-000000000001','Đáp án A',1),('40000000-0000-0000-0000-000000000002','30000000-0000-0000-0000-000000000001','Đáp án B',0),('40000000-0000-0000-0000-000000000003','30000000-0000-0000-0000-000000000001','Đáp án C',0),('40000000-0000-0000-0000-000000000004','30000000-0000-0000-0000-000000000001','Đáp án D',0),('40000000-0000-0000-0000-000000000005','30000000-0000-0000-0000-000000000002','Đáp án A',0),('40000000-0000-0000-0000-000000000006','30000000-0000-0000-0000-000000000002','Đáp án B',1),('40000000-0000-0000-0000-000000000007','30000000-0000-0000-0000-000000000002','Đáp án C',0),('40000000-0000-0000-0000-000000000008','30000000-0000-0000-0000-000000000002','Đáp án D',0),('40000000-0000-0000-0000-000000000009','30000000-0000-0000-0000-000000000003','Đáp án A',0),('40000000-0000-0000-0000-000000000010','30000000-0000-0000-0000-000000000003','Đáp án B',1),('40000000-0000-0000-0000-000000000011','30000000-0000-0000-0000-000000000003','Đáp án C',0),('40000000-0000-0000-0000-000000000012','30000000-0000-0000-0000-000000000003','Đáp án D',0),('40000000-0000-0000-0000-000000000013','30000000-0000-0000-0000-000000000004','Đáp án A',0),('40000000-0000-0000-0000-000000000014','30000000-0000-0000-0000-000000000004','Đáp án B',0),('40000000-0000-0000-0000-000000000015','30000000-0000-0000-0000-000000000004','Đáp án C',1),('40000000-0000-0000-0000-000000000016','30000000-0000-0000-0000-000000000004','Đáp án D',0),('40000000-0000-0000-0000-000000000017','30000000-0000-0000-0000-000000000005','Đáp án A',0),('40000000-0000-0000-0000-000000000018','30000000-0000-0000-0000-000000000005','Đáp án B',0),('40000000-0000-0000-0000-000000000019','30000000-0000-0000-0000-000000000005','Đáp án C',1),('40000000-0000-0000-0000-000000000020','30000000-0000-0000-0000-000000000005','Đáp án D',0),('40000000-0000-0000-0000-000000000021','30000000-0000-0000-0000-000000000006','Đáp án A',1),('40000000-0000-0000-0000-000000000022','30000000-0000-0000-0000-000000000006','Đáp án B',0),('40000000-0000-0000-0000-000000000023','30000000-0000-0000-0000-000000000006','Đáp án C',0),('40000000-0000-0000-0000-000000000024','30000000-0000-0000-0000-000000000006','Đáp án D',0),('40000000-0000-0000-0000-000000000025','30000000-0000-0000-0000-000000000007','Đáp án A',0),('40000000-0000-0000-0000-000000000026','30000000-0000-0000-0000-000000000007','Đáp án B',1),('40000000-0000-0000-0000-000000000027','30000000-0000-0000-0000-000000000007','Đáp án C',0),('40000000-0000-0000-0000-000000000028','30000000-0000-0000-0000-000000000007','Đáp án D',0),('40000000-0000-0000-0000-000000000029','30000000-0000-0000-0000-000000000008','Đáp án A',0),('40000000-0000-0000-0000-000000000030','30000000-0000-0000-0000-000000000008','Đáp án B',1),('40000000-0000-0000-0000-000000000031','30000000-0000-0000-0000-000000000008','Đáp án C',0),('40000000-0000-0000-0000-000000000032','30000000-0000-0000-0000-000000000008','Đáp án D',0),('40000000-0000-0000-0000-000000000033','30000000-0000-0000-0000-000000000009','Đáp án A',0),('40000000-0000-0000-0000-000000000034','30000000-0000-0000-0000-000000000009','Đáp án B',1),('40000000-0000-0000-0000-000000000035','30000000-0000-0000-0000-000000000009','Đáp án C',0),('40000000-0000-0000-0000-000000000036','30000000-0000-0000-0000-000000000009','Đáp án D',0),('40000000-0000-0000-0000-000000000037','30000000-0000-0000-0000-000000000010','Đáp án A',0),('40000000-0000-0000-0000-000000000038','30000000-0000-0000-0000-000000000010','Đáp án B',0),('40000000-0000-0000-0000-000000000039','30000000-0000-0000-0000-000000000010','Đáp án C',1),('40000000-0000-0000-0000-000000000040','30000000-0000-0000-0000-000000000010','Đáp án D',0);
/*!40000 ALTER TABLE `answeroptions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `questions`
--

DROP TABLE IF EXISTS `questions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `questions` (
  `QuestionId` char(36) CHARACTER SET ascii COLLATE ascii_general_ci NOT NULL,
  `QuizId` char(36) CHARACTER SET ascii COLLATE ascii_general_ci NOT NULL,
  `Content` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  PRIMARY KEY (`QuestionId`),
  KEY `IX_Questions_QuizId` (`QuizId`),
  CONSTRAINT `FK_Questions_Quizzes_QuizId` FOREIGN KEY (`QuizId`) REFERENCES `quizzes` (`QuizId`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `questions`
--

LOCK TABLES `questions` WRITE;
/*!40000 ALTER TABLE `questions` DISABLE KEYS */;
INSERT INTO `questions` VALUES ('30000000-0000-0000-0000-000000000001','11111111-1111-1111-1111-111111111111','Câu hỏi 1?'),('30000000-0000-0000-0000-000000000002','11111111-1111-1111-1111-111111111111','Câu hỏi 2?'),('30000000-0000-0000-0000-000000000003','11111111-1111-1111-1111-111111111111','Câu hỏi 3?'),('30000000-0000-0000-0000-000000000004','11111111-1111-1111-1111-111111111111','Câu hỏi 4?'),('30000000-0000-0000-0000-000000000005','11111111-1111-1111-1111-111111111111','Câu hỏi 5?'),('30000000-0000-0000-0000-000000000006','11111111-1111-1111-1111-111111111111','Câu hỏi 6?'),('30000000-0000-0000-0000-000000000007','11111111-1111-1111-1111-111111111111','Câu hỏi 7?'),('30000000-0000-0000-0000-000000000008','11111111-1111-1111-1111-111111111111','Câu hỏi 8?'),('30000000-0000-0000-0000-000000000009','11111111-1111-1111-1111-111111111111','Câu hỏi 9?'),('30000000-0000-0000-0000-000000000010','11111111-1111-1111-1111-111111111111','Câu hỏi 10?');
/*!40000 ALTER TABLE `questions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `quizzes`
--

DROP TABLE IF EXISTS `quizzes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `quizzes` (
  `QuizId` char(36) CHARACTER SET ascii COLLATE ascii_general_ci NOT NULL,
  `Title` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  PRIMARY KEY (`QuizId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `quizzes`
--

LOCK TABLES `quizzes` WRITE;
/*!40000 ALTER TABLE `quizzes` DISABLE KEYS */;
INSERT INTO `quizzes` VALUES ('11111111-1111-1111-1111-111111111111','Quiz tiếng việt cơ bản');
/*!40000 ALTER TABLE `quizzes` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `useranswers`
--

DROP TABLE IF EXISTS `useranswers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `useranswers` (
  `UserAnswerId` char(36) CHARACTER SET ascii COLLATE ascii_general_ci NOT NULL,
  `SessionId` char(36) CHARACTER SET ascii COLLATE ascii_general_ci NOT NULL,
  `QuestionId` char(36) CHARACTER SET ascii COLLATE ascii_general_ci NOT NULL,
  `AnswerOptionId` char(36) CHARACTER SET ascii COLLATE ascii_general_ci NOT NULL,
  `IsCorrect` tinyint(1) NOT NULL,
  PRIMARY KEY (`UserAnswerId`),
  KEY `IX_UserAnswers_AnswerOptionId` (`AnswerOptionId`),
  KEY `IX_UserAnswers_QuestionId` (`QuestionId`),
  KEY `IX_UserAnswers_SessionId` (`SessionId`),
  CONSTRAINT `FK_UserAnswers_AnswerOptions_AnswerOptionId` FOREIGN KEY (`AnswerOptionId`) REFERENCES `answeroptions` (`AnswerOptionId`) ON DELETE CASCADE,
  CONSTRAINT `FK_UserAnswers_Questions_QuestionId` FOREIGN KEY (`QuestionId`) REFERENCES `questions` (`QuestionId`) ON DELETE CASCADE,
  CONSTRAINT `FK_UserAnswers_UserQuizSessions_SessionId` FOREIGN KEY (`SessionId`) REFERENCES `userquizsessions` (`SessionId`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `useranswers`
--

LOCK TABLES `useranswers` WRITE;
/*!40000 ALTER TABLE `useranswers` DISABLE KEYS */;
INSERT INTO `useranswers` VALUES ('09c93b34-83e5-4399-b156-1caccb6d12b8','22222222-2222-2222-2222-222222222222','30000000-0000-0000-0000-000000000002','40000000-0000-0000-0000-000000000006',1),('10c26207-e054-4d9a-87c5-050786d25bc9','22222222-2222-2222-2222-222222222222','30000000-0000-0000-0000-000000000002','40000000-0000-0000-0000-000000000006',1),('2662fff1-ef29-4657-a1d7-a0bc25d26585','22222222-2222-2222-2222-222222222222','30000000-0000-0000-0000-000000000002','40000000-0000-0000-0000-000000000006',1),('46d93201-e245-4b19-80e3-ea0390a8c5f7','22222222-2222-2222-2222-222222222222','30000000-0000-0000-0000-000000000002','40000000-0000-0000-0000-000000000006',1),('5af6bc95-d544-445e-b0ea-436bb290a682','22222222-2222-2222-2222-222222222222','30000000-0000-0000-0000-000000000002','40000000-0000-0000-0000-000000000006',1),('64c4c970-2a4b-41b4-a5c4-ed3217ca2ce6','22222222-2222-2222-2222-222222222222','30000000-0000-0000-0000-000000000001','40000000-0000-0000-0000-000000000001',1),('a5501ea3-ae3b-4719-a982-8398d3a21b34','22222222-2222-2222-2222-222222222222','30000000-0000-0000-0000-000000000002','40000000-0000-0000-0000-000000000006',1),('d15dfacb-b8d2-48d3-af27-726bce8d8a93','22222222-2222-2222-2222-222222222222','30000000-0000-0000-0000-000000000002','40000000-0000-0000-0000-000000000006',1),('f0e14315-0885-405f-8b4c-8126c980e846','22222222-2222-2222-2222-222222222222','30000000-0000-0000-0000-000000000002','40000000-0000-0000-0000-000000000006',1),('f6fbd062-f21f-45a3-b30c-cd34873f1646','22222222-2222-2222-2222-222222222222','30000000-0000-0000-0000-000000000002','40000000-0000-0000-0000-000000000006',1);
/*!40000 ALTER TABLE `useranswers` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `userquizsessions`
--

DROP TABLE IF EXISTS `userquizsessions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `userquizsessions` (
  `SessionId` char(36) CHARACTER SET ascii COLLATE ascii_general_ci NOT NULL,
  `UserId` char(36) CHARACTER SET ascii COLLATE ascii_general_ci DEFAULT NULL,
  `QuizId` char(36) CHARACTER SET ascii COLLATE ascii_general_ci NOT NULL,
  `StartTime` datetime(6) NOT NULL,
  `EndTime` datetime(6) DEFAULT NULL,
  `Passed` tinyint(1) NOT NULL,
  PRIMARY KEY (`SessionId`),
  KEY `IX_UserQuizSessions_QuizId` (`QuizId`),
  CONSTRAINT `FK_UserQuizSessions_Quizzes_QuizId` FOREIGN KEY (`QuizId`) REFERENCES `quizzes` (`QuizId`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `userquizsessions`
--

LOCK TABLES `userquizsessions` WRITE;
/*!40000 ALTER TABLE `userquizsessions` DISABLE KEYS */;
INSERT INTO `userquizsessions` VALUES ('22222222-2222-2222-2222-222222222222','99999999-9999-9999-9999-999999999999','11111111-1111-1111-1111-111111111111','2025-05-30 17:42:50.000000',NULL,1);
/*!40000 ALTER TABLE `userquizsessions` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-05-30 21:52:04
